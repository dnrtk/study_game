# 機能仕様書

## 1. ユーザー管理
### 1.1 ユーザー切り替え
- 起動時またはメニューからユーザー選択画面を表示
- 設定ファイル（例：users.json）に登録されたユーザー一覧を表示し、選択可能
- 新規ユーザー追加・編集は画面からは不可。設定ファイルを直接編集

#### 設定ファイル例
```
[
  { "id": "user1", "name": "たろう" },
  { "id": "user2", "name": "はなこ" }
]
```

## 2. 学習機能
### 2.1 学習コンテンツ選択
- トップ画面で「算数」「国語」「英語」「パズル」などのカテゴリを選択
- 各カテゴリごとに学期（1学期・2学期・3学期）を選択可能

### 2.2 問題出題・解答
- 1回の学習は5～10問程度のミニゲーム形式
- 問題は選択肢式または入力式
- 問題ごとに「正解」「不正解」を即時フィードバック

### 2.3 出題範囲切り替え
- 学期ごとに出題範囲を切り替え
- 習っていない範囲の問題は出題頻度を下げる（例：全体の10%以下）

### 2.4 出題頻度調整
- ユーザーごとに問題ごとの正答履歴を保存
- 間違えた問題は次回以降に優先的に出題
- 何度も正解している問題は出題頻度を下げる

### 2.5 成績・進捗表示
- 学習履歴・正答率・学習回数などをユーザーごとにローカル保存
- シンプルなグラフやリストで表示

## 3. ゲーム要素連携
### 3.1 モンスター育成
- 問題に正解すると経験値を獲得し、モンスターのレベルが上がる
- モンスターごとに経験値・レベル・進化状態を管理

### 3.2 ボスバトル
- モンスターが一定レベルに達するとボスバトル解放
- ボスに勝利するとガチャポイントを獲得

### 3.3 ガチャシステム
- ガチャポイントが一定数貯まるとガチャ画面で抽選可能
- 新しいモンスター、進化用アイテム、装備などを獲得

### 3.4 アイテム・進化
- モンスターの進化や強化にアイテム・装備を使用
- 所持アイテム・装備はユーザーごとに管理

## 4. 保護者向け機能
### 4.1 利用ガイド
- トップ画面やメニューから保護者向けガイドを閲覧可能
- 使い方や学習履歴の見方、設定ファイル編集方法などを記載

## 5. システム仕様
### 5.1 サポート環境
- Webブラウザ（PC・タブレット・スマートフォン）
- Next.jsベース
- ローカルネットワーク内のみで動作（自宅サーバ運用）

### 5.2 データ保存
- ユーザー情報・学習履歴・ゲーム進行データはローカルストレージまたはローカルファイルで管理
- 個人情報は保存しない

### 5.3 UI/UX
- 小学校低学年でも直感的に操作できるシンプルなデザイン
- 音声やイラストを活用した分かりやすいUI
- 広告表示なし

### 5.4 セキュリティ・プライバシー
- 個人情報の収集なし
- Cookieやローカルストレージのみ利用

### 5.5 パフォーマンス
- 軽快な動作を維持すること
- オフラインでも利用可能（ローカルネットワーク内のみで動作）
